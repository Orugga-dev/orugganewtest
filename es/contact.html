<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Orugga — Contacto</title>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Site CSS (NO output.css) -->
    <link rel="stylesheet" href="../assets/css/styles.css" />
  </head>

  <body class="bg-[#070B14] text-white">
    <!-- Injected header -->
    <div id="siteHeader"></div>

    <main>
      <!-- HERO (match About/Services) -->
      <section class="relative overflow-hidden min-h-[60vh] hero--subtle pt-20 md:pt-28">
        <canvas id="heroParticles" class="hero-particles"></canvas>

        <!-- subtle overlay for readability (same family as other pages) -->
        <div class="pointer-events-none absolute inset-0 bg-gradient-to-b from-black/10 via-black/35 to-black/70"></div>

        <div class="relative mx-auto max-w-7xl px-6">
          <p class="text-xs uppercase tracking-wider text-slate-500 mb-4">
            Contacto
          </p>

          <h1 class="hero-title max-w-4xl">
            ¿Listo para construir tu
            <span class="text-[color:var(--accent)]">próximo producto</span>?
          </h1>

          <p class="mt-6 max-w-3xl text-lg text-slate-300">
            De estrategia y diseño a entrega en producción, trabajamos como un socio de ingeniería confiable, enfocado en resultados.
          </p>
        </div>
      </section>

      <!-- CONTACT CONTENT -->
      <section class="mx-auto max-w-7xl px-6 pb-24 -mt-10 relative z-10">
        <div class="grid gap-8 lg:grid-cols-12">
          <!-- Left card -->
          <div class="lg:col-span-5">
            <div class="bg-white/5 border border-white/10 rounded-3xl p-8 md:p-10 shadow-[0_20px_60px_rgba(0,0,0,.45)]">
              <p class="text-xs uppercase tracking-wider text-slate-500">Dirección</p>
              <p class="mt-2 text-slate-200 leading-relaxed">
                Paraná 522, Piso 2 Of 22<br />
                CABA, Argentina
              </p>

              <p class="mt-8 text-xs uppercase tracking-wider text-slate-500">Dirección</p>
              <p class="mt-2 text-slate-200 leading-relaxed">
                89 Meadowood Dr, Apt A4<br />
                Carbondale, CO 81623, Estados Unidos
              </p>

              <p class="mt-8 text-xs uppercase tracking-wider text-slate-500">Email</p>
              <a class="mt-2 inline-block text-slate-200 hover:text-white transition" href="mailto:orugga@orugga.com">
                orugga@orugga.com
              </a>
            </div>
          </div>

          <!-- Right card: form -->
          <div class="lg:col-span-7">
            <div class="bg-white/5 border border-white/10 rounded-3xl p-8 md:p-10 shadow-[0_20px_60px_rgba(0,0,0,.45)]">
              <form id="contactForm" class="space-y-5" novalidate>
                <!-- Honeypot (spam trap) -->
                <input
                  type="text"
                  name="website"
                  tabindex="-1"
                  autocomplete="off"
                  class="hidden"
                  aria-hidden="true"
                />

                <div class="grid gap-4 md:grid-cols-2">
                  <div>
                    <label class="sr-only" for="name">Nombre</label>
                    <input
                      id="name"
                      name="name"
                      type="text"
                      placeholder="Nombre"
                      class="w-full rounded-2xl bg-black/30 border border-white/10 px-4 py-3 text-slate-200 placeholder:text-slate-500 outline-none focus:ring-2 focus:ring-[color:var(--accent)]/40"
                      required
                    />
                  </div>

                  <div>
                    <label class="sr-only" for="email">Email</label>
                    <input
                      id="email"
                      name="email"
                      type="email"
                      placeholder="Email"
                      class="w-full rounded-2xl bg-black/30 border border-white/10 px-4 py-3 text-slate-200 placeholder:text-slate-500 outline-none focus:ring-2 focus:ring-[color:var(--accent)]/40"
                      required
                    />
                  </div>
                </div>

                <div>
                  <label class="sr-only" for="subject">Asunto</label>
                  <input
                    id="subject"
                    name="subject"
                    type="text"
                    placeholder="Asunto"
                    class="w-full rounded-2xl bg-black/30 border border-white/10 px-4 py-3 text-slate-200 placeholder:text-slate-500 outline-none focus:ring-2 focus:ring-[color:var(--accent)]/40"
                    required
                  />
                </div>

                <div>
                  <label class="sr-only" for="message">Mensaje</label>
                  <textarea
                    id="message"
                    name="message"
                    placeholder="Mensaje"
                    rows="6"
                    class="w-full rounded-2xl bg-black/30 border border-white/10 px-4 py-3 text-slate-200 placeholder:text-slate-500 outline-none focus:ring-2 focus:ring-[color:var(--accent)]/40 resize-none"
                    required
                  ></textarea>
                </div>

                <!-- Inline status message -->
                <div
                  id="formMessage"
                  class="hidden rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-slate-200"
                  role="status"
                  aria-live="polite"
                ></div>

                <div class="pt-2">
                  <button
                    id="contactSubmit"
                    type="submit"
                    class="inline-flex items-center justify-center rounded-full bg-white px-6 py-3 text-sm font-semibold text-black hover:bg-slate-100 transition"
                  >
                    <span class="btnLabel">Enviar</span>
                    <span class="spinner hidden ml-2 inline-flex items-center" aria-hidden="true">
                      <span class="w-4 h-4 rounded-full border-2 border-black/30 border-t-black animate-spin"></span>
                    </span>
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Injected footer -->
    <div id="siteFooter"></div>

    <!-- JS (IMPORTANT: this must match other pages) -->
    <script src="../assets/js/hero-particles.js" defer></script>
    <script src="../assets/js/includes.js" defer></script>

    <!-- Contact form submit -> Google Apps Script Web App -->
    <script>
      (() => {
        const ENDPOINT_URL =
          "https://script.google.com/macros/s/AKfycbz76Tf768G7dW3C2TONPZGo1FUy2y8HUIhALC0K0eNGoVy4J8HAbGlt3ogU9WM2dYLL/exec";

        function setMessage(kind, text) {
          const el = document.getElementById("formMessage");
          if (!el) return;
          el.classList.remove("hidden");
          el.textContent = text;

          // Keep styling subtle; only tweak border tone
          el.classList.remove("border-red-400", "text-red-100");
          if (kind === "error") {
            el.classList.add("border-red-400", "text-red-100");
          }
        }

        window.addEventListener("DOMContentLoaded", () => {
          const form = document.getElementById("contactForm");
          if (!form) return;

          const btn = document.getElementById("contactSubmit");
          const label = btn ? btn.querySelector(".btnLabel") : null;
          const spinner = btn ? btn.querySelector(".spinner") : null;

          form.addEventListener("submit", async (e) => {
            e.preventDefault();

            // Basic native validation
            if (!form.checkValidity()) {
              setMessage("error", "Por favor completá los campos requeridos.");
              return;
            }

            // Honeypot
            const hp = form.querySelector('input[name="website"]');
            if (hp && hp.value.trim() !== "") {
              // act as success to avoid bot feedback
              setMessage("success", "Enviado. Te respondemos a la brevedad.");
              form.reset();
              return;
            }

            if (btn) {
              btn.disabled = true;
              btn.classList.add("opacity-80");
            }
            if (label) label.textContent = "Enviando…";
            if (spinner) spinner.classList.remove("hidden");

            try {
              const fd = new FormData(form);
              // Add metadata the script is ready to store if you use it
              fd.append("page", location.pathname);
              fd.append("ua", navigator.userAgent);

              const body = new URLSearchParams();
              for (const [k, v] of fd.entries()) {
                body.append(k, v);
              }

              await fetch(ENDPOINT_URL, {
                method: "POST",
                mode: "no-cors",
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                },
                body: body.toString(),
              });

              setMessage("success", "Enviado. Te respondemos a la brevedad.");
              form.reset();
            } catch (err) {
              console.error(err);
              setMessage("error", "Algo salió mal. Por favor probá de nuevo.");
            } finally {
              if (spinner) spinner.classList.add("hidden");
              if (label) label.textContent = "Enviar";
              if (btn) {
                btn.disabled = false;
                btn.classList.remove("opacity-80");
              }
            }
          });
        });
      })();
    </script>
  </body>
</html>
